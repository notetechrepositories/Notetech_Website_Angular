<mat-card class="cardWithShadow">
  <mat-card-content>
    <div
      class="row"
      style="margin-bottom: 10px; display: flex; justify-content: space-between"
    >
      <div class="col-lg-9 m-b-32">
        <h2>Contact Us Details</h2>
        <nav aria-label="breadcrumb" class="breadcrumb-container">
          <ol class="breadcrumb">
            <li class="breadcrumb-item">
              <a routerLink="/admin/dashboard">Dashboard</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">
              Contact Us
            </li>
          </ol>
        </nav>
      </div>
    </div>

    <!-- Contact Us Table -->
    <div
      class="table-responsive"
      style="
        max-height: 575px;
        min-height: 575px;
        overflow-y: auto;
        margin-top: 50px;
      "
    >
      <table
        mat-table
        [dataSource]="contactData"
        class="mat-elevation-z8"
        style="box-shadow: none"
      >
        <!-- ID Column -->
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef>#</th>
          <!-- Roll Number Header -->
          <td mat-cell *matCellDef="let element; let i = index">
            {{ i + 1 }}
            <!-- âœ… Roll number starts from 1 -->
          </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>Name</th>
          <td mat-cell *matCellDef="let element">{{ element.name }}</td>
        </ng-container>

        <!-- Phone Number Column -->
        <ng-container matColumnDef="phone_number">
          <th mat-header-cell *matHeaderCellDef>Phone Number</th>
          <td mat-cell *matCellDef="let element">{{ element.phone_number }}</td>
        </ng-container>

        <!-- Email Column -->
        <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef>Email</th>
          <td mat-cell *matCellDef="let element">{{ element.email }}</td>
        </ng-container>

        <!-- Subject Column -->
        <ng-container matColumnDef="subject">
          <th mat-header-cell *matHeaderCellDef>Subject</th>
          <td mat-cell *matCellDef="let element">{{ element.subject }}</td>
        </ng-container>

        <!-- Message Column -->
        <ng-container matColumnDef="message">
          <th mat-header-cell *matHeaderCellDef>Message</th>
          <td mat-cell *matCellDef="let element">{{ element.message }}</td>
        </ng-container>

        <!-- Insert Date Column -->
        <ng-container matColumnDef="insert_date">
          <th mat-header-cell *matHeaderCellDef>Insert Date</th>
          <td mat-cell *matCellDef="let element">
            {{ element.insert_date | date }}
          </td>
        </ng-container>

        <!-- Actions Column -->
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef>Actions</th>
          <td mat-cell *matCellDef="let element">
            <button
              mat-icon-button
              color="primary"
              (click)="openDialog(element)"
            >
              <i class="ti ti-eye"></i>
            </button>
            <button
              mat-icon-button
              color="warn"
              (click)="deleteContact(element.id)"
            >
              <i class="ti ti-trash"></i>
            </button>
            <!-- Reply Button (Only Shows if Reply is NULL) -->
            <button
              mat-icon-button
              color="accent"
              *ngIf="!element.reply"
              (click)="replyToMessage(element)"
            >
              <i class="ti ti-message"></i>
            </button>
          </td>
        </ng-container>

        <!-- Table Headers & Rows -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>
  </mat-card-content>
</mat-card>
